# æµ‹è¯•ç”¨ä¾‹ç®¡ç†é¡µé¢åŸå‹

## é¡µé¢æ¦‚è¿°
æµ‹è¯•ç”¨ä¾‹ç®¡ç†é¡µé¢æä¾›AIç”Ÿæˆæµ‹è¯•ç”¨ä¾‹ã€æµ‹è¯•ç”¨ä¾‹ç®¡ç†ã€æ‰§è¡Œè·Ÿè¸ªç­‰åŠŸèƒ½ï¼Œæ”¯æŒåŸºäºéœ€æ±‚æ–‡æ¡£è‡ªåŠ¨ç”Ÿæˆæ ‡å‡†åŒ–æµ‹è¯•ç”¨ä¾‹ã€‚

## é¡µé¢å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            æµ‹è¯•ç”¨ä¾‹ç®¡ç†                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æ“ä½œæ : [æ–°å»ºä»»åŠ¡] [ç”Ÿæˆç”¨ä¾‹] [æ‰¹é‡æ“ä½œâ–¼] [å¯¼å…¥] [å¯¼å‡º] [æ¨¡æ¿ç®¡ç†]              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ç­›é€‰æ : [çŠ¶æ€â–¼] [ä¼˜å…ˆçº§â–¼] [ç±»å‹â–¼] [éœ€æ±‚æ–‡æ¡£â–¼] [æ‰§è¡ŒçŠ¶æ€â–¼] [æœç´¢æ¡†]              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚        ä»»åŠ¡åˆ—è¡¨åŒºåŸŸ          â”‚ â”‚            æµ‹è¯•ç”¨ä¾‹è¯¦æƒ…åŒºåŸŸ                â”‚ â”‚
â”‚ â”‚                             â”‚ â”‚                                           â”‚ â”‚
â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚ â”‚ â”‚ ğŸ“‹ éœ€æ±‚åˆ†ææµ‹è¯•ç”¨ä¾‹      â”‚ â”‚ â”‚ â”‚ ç”¨ä¾‹æ ‡é¢˜: ç”¨æˆ·ç™»å½•åŠŸèƒ½æµ‹è¯•            â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ çŠ¶æ€: âœ… å·²å®Œæˆ         â”‚ â”‚ â”‚ â”‚ ä¼˜å…ˆçº§: [P1] ç±»å‹: [åŠŸèƒ½æµ‹è¯•]         â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ éœ€æ±‚: ç”¨æˆ·ç®¡ç†éœ€æ±‚      â”‚ â”‚ â”‚ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ ç”¨ä¾‹æ•°: 15 ç”Ÿæˆæ—¶é—´: 2å°æ—¶å‰ â”‚ â”‚ â”‚ â”‚ ğŸ“ å‰ç½®æ¡ä»¶:                         â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ [æŸ¥çœ‹] [ç¼–è¾‘] [æ‰§è¡Œ]    â”‚ â”‚ â”‚ â”‚ â€¢ ç³»ç»Ÿå·²éƒ¨ç½²ä¸”æ­£å¸¸è¿è¡Œ                â”‚ â”‚ â”‚
â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â”‚ â€¢ ç”¨æˆ·æ•°æ®åº“å·²åˆå§‹åŒ–                  â”‚ â”‚ â”‚
â”‚ â”‚                             â”‚ â”‚ â”‚                                           â”‚ â”‚
â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”‚ ğŸ”„ æµ‹è¯•æ­¥éª¤:                          â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ ğŸ“Š APIæ¥å£æµ‹è¯•ç”¨ä¾‹      â”‚ â”‚ â”‚ â”‚ 1. æ‰“å¼€ç™»å½•é¡µé¢                       â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ çŠ¶æ€: ğŸ”„ ç”Ÿæˆä¸­         â”‚ â”‚ â”‚ â”‚ 2. è¾“å…¥æ­£ç¡®çš„ç”¨æˆ·åå¯†ç                â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ éœ€æ±‚: APIè®¾è®¡æ–‡æ¡£       â”‚ â”‚ â”‚ â”‚ 3. ç‚¹å‡»ç™»å½•æŒ‰é’®                       â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ è¿›åº¦: [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘] 80%  â”‚ â”‚ â”‚ â”‚ 4. éªŒè¯è·³è½¬åˆ°ä¸»é¡µ                     â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ [å–æ¶ˆ] [æŸ¥çœ‹æ—¥å¿—]       â”‚ â”‚ â”‚ â”‚                                           â”‚ â”‚
â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â”‚ âœ… é¢„æœŸç»“æœ:                          â”‚ â”‚ â”‚
â”‚ â”‚                             â”‚ â”‚ â”‚ â€¢ ç™»å½•æˆåŠŸï¼Œè·³è½¬åˆ°ä¸»é¡µ                â”‚ â”‚ â”‚
â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”‚ â€¢ æ˜¾ç¤ºç”¨æˆ·ä¿¡æ¯                        â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ ğŸ”’ å®‰å…¨æµ‹è¯•ç”¨ä¾‹         â”‚ â”‚ â”‚ â”‚                                           â”‚ â”‚
â”‚ â”‚ â”‚ çŠ¶æ€: âŒ ç”Ÿæˆå¤±è´¥       â”‚ â”‚ â”‚ â”‚ ğŸ·ï¸ æ ‡ç­¾: [ç™»å½•, è®¤è¯, åŠŸèƒ½]           â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ éœ€æ±‚: å®‰å…¨éœ€æ±‚æ–‡æ¡£      â”‚ â”‚ â”‚ â”‚ â±ï¸ é¢„ä¼°æ—¶é—´: 5åˆ†é’Ÿ                     â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ é”™è¯¯: æ¨¡æ¿é…ç½®é”™è¯¯      â”‚ â”‚ â”‚ â”‚                                           â”‚ â”‚
â”‚ â”‚ â”‚ [é‡è¯•] [æŸ¥çœ‹é”™è¯¯]       â”‚ â”‚ â”‚ â”‚ [ç¼–è¾‘] [å¤åˆ¶] [åˆ é™¤] [æ‰§è¡Œ]            â”‚ â”‚ â”‚
â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚ â”‚                             â”‚ â”‚                                           â”‚ â”‚
â”‚ â”‚ [åŠ è½½æ›´å¤š...]              â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚           AIåˆ†æå»ºè®®                  â”‚ â”‚ â”‚
â”‚                                 â”‚ â”‚ â€¢ å»ºè®®å¢åŠ å¼‚å¸¸æƒ…å†µæµ‹è¯•                â”‚ â”‚ â”‚
â”‚                                 â”‚ â”‚ â€¢ å»ºè®®è¡¥å……è¾¹ç•Œå€¼æµ‹è¯•                  â”‚ â”‚ â”‚
â”‚                                 â”‚ â”‚ â€¢ æµ‹è¯•è¦†ç›–ç‡: 85%                     â”‚ â”‚ â”‚
â”‚                                 â”‚ â”‚ [æŸ¥çœ‹è¯¦ç»†åˆ†æ]                        â”‚ â”‚ â”‚
â”‚                                 â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚                                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## æ•°æ®æ¨¡å‹

### TestCaseTask æ¥å£
```typescript
interface TestCaseTask {
  id: string
  name: string
  description?: string
  requirementId: string
  requirementName: string
  promptTemplateId: string
  caseTemplateId?: string
  status: 'pending' | 'generating' | 'completed' | 'failed'
  progress: number
  testCases: TestCase[]
  generationConfig: {
    caseTypes: TestCaseType[]
    priorities: TestCasePriority[]
    maxCases: number
    includeEdgeCases: boolean
    includeNegativeCases: boolean
  }
  aiAnalysis?: {
    coverage: number
    suggestions: string[]
    qualityScore: number
    missingScenarios: string[]
  }
  statistics: {
    totalCases: number
    byType: Record<TestCaseType, number>
    byPriority: Record<TestCasePriority, number>
    estimatedTime: number
  }
  errorMessage?: string
  generatedAt?: string
  lastModified: string
  createdBy: string
}

interface TestCase {
  id: string
  taskId: string
  title: string
  description: string
  type: TestCaseType
  priority: TestCasePriority
  preconditions: string[]
  steps: TestStep[]
  expectedResult: string
  testData?: TestData[]
  tags: string[]
  estimatedTime: number
  actualResult?: string
  executionStatus: 'not_executed' | 'passed' | 'failed' | 'blocked'
  defects: string[]
  notes: string
  executedBy?: string
  executedAt?: string
}

interface TestStep {
  stepNumber: number
  action: string
  expectedResult: string
  testData?: string
  screenshot?: string
}

interface TestData {
  name: string
  value: string
  type: 'input' | 'expected' | 'boundary'
}

type TestCaseType = 'functional' | 'performance' | 'security' | 'usability' | 'compatibility' | 'api' | 'integration'
type TestCasePriority = 'P0' | 'P1' | 'P2' | 'P3'

interface CaseTemplate {
  id: string
  name: string
  description: string
  structure: {
    sections: TemplateSection[]
    defaultValues: Record<string, any>
  }
  isDefault: boolean
  isActive: boolean
  usage: number
  createdAt: string
}

interface TemplateSection {
  name: string
  field: string
  type: 'text' | 'textarea' | 'select' | 'multi-select' | 'steps'
  required: boolean
  options?: string[]
  placeholder?: string
}
```

### çŠ¶æ€ç®¡ç†

```typescript
interface TestCaseState {
  // ä»»åŠ¡æ•°æ®
  tasks: TestCaseTask[]
  currentTask: TestCaseTask | null
  currentTestCase: TestCase | null
  
  // æ¨¡æ¿æ•°æ®
  templates: CaseTemplate[]
  currentTemplate: CaseTemplate | null
  
  // UIçŠ¶æ€
  loading: boolean
  generating: boolean
  error: string | null
  
  // ç­›é€‰å’Œæœç´¢
  filters: {
    status: string[]
    priority: TestCasePriority[]
    type: TestCaseType[]
    requirementId: string[]
    executionStatus: string[]
    search: string
  }
  
  // åˆ†é¡µ
  pagination: {
    page: number
    pageSize: number
    total: number
  }
  
  // é€‰æ‹©çŠ¶æ€
  selectedTasks: string[]
  selectedTestCases: string[]
  
  // å¯¹è¯æ¡†çŠ¶æ€
  dialogs: {
    createTask: boolean
    editTask: boolean
    generateCases: boolean
    templateManager: boolean
    batchExecution: boolean
    exportDialog: boolean
  }
}

interface TestCaseActions {
  // ä»»åŠ¡ç®¡ç†
  loadTasks(): Promise<void>
  createTask(task: CreateTestCaseTaskRequest): Promise<void>
  updateTask(id: string, updates: Partial<TestCaseTask>): Promise<void>
  deleteTask(id: string): Promise<void>
  generateTestCases(taskId: string): Promise<void>
  
  // æµ‹è¯•ç”¨ä¾‹ç®¡ç†
  updateTestCase(taskId: string, caseId: string, updates: Partial<TestCase>): Promise<void>
  deleteTestCase(taskId: string, caseId: string): Promise<void>
  executeTestCase(taskId: string, caseId: string, result: TestCaseExecution): Promise<void>
  batchExecuteTestCases(executions: BatchExecution): Promise<void>
  
  // æ¨¡æ¿ç®¡ç†
  loadTemplates(): Promise<void>
  createTemplate(template: CreateTemplateRequest): Promise<void>
  updateTemplate(id: string, updates: Partial<CaseTemplate>): Promise<void>
  deleteTemplate(id: string): Promise<void>
  setDefaultTemplate(id: string): Promise<void>
  
  // æ‰¹é‡æ“ä½œ
  batchDeleteTasks(taskIds: string[]): Promise<void>
  batchGenerateCases(taskIds: string[]): Promise<void>
  
  // å¯¼å…¥å¯¼å‡º
  exportTestCases(taskId: string, format: 'excel' | 'csv' | 'json'): Promise<void>
  importTestCases(file: File): Promise<void>
  
  // UIæ“ä½œ
  setCurrentTask(task: TestCaseTask | null): void
  setCurrentTestCase(testCase: TestCase | null): void
  updateFilters(filters: Partial<TestCaseState['filters']>): void
  setSelectedTasks(taskIds: string[]): void
  setSelectedTestCases(caseIds: string[]): void
  toggleDialog(dialog: keyof TestCaseState['dialogs']): void
}
```

## é¡µé¢äº¤äº’é€»è¾‘

### ä»»åŠ¡ç®¡ç†äº¤äº’
```typescript
// åˆ›å»ºæµ‹è¯•ç”¨ä¾‹ç”Ÿæˆä»»åŠ¡
async function createTestCaseTask() {
  const taskData = {
    name: taskForm.name,
    description: taskForm.description,
    requirementId: taskForm.requirementId,
    promptTemplateId: taskForm.promptTemplateId,
    caseTemplateId: taskForm.caseTemplateId,
    generationConfig: {
      caseTypes: taskForm.selectedTypes,
      priorities: taskForm.selectedPriorities,
      maxCases: taskForm.maxCases,
      includeEdgeCases: taskForm.includeEdgeCases,
      includeNegativeCases: taskForm.includeNegativeCases
    }
  }
  
  await testCaseStore.createTask(taskData)
  
  // å¦‚æœå¯ç”¨è‡ªåŠ¨ç”Ÿæˆï¼Œç«‹å³å¼€å§‹ç”Ÿæˆ
  if (taskForm.autoGenerate) {
    await generateTestCases(task.id)
  }
  
  showSuccessMessage('æµ‹è¯•ç”¨ä¾‹ä»»åŠ¡åˆ›å»ºæˆåŠŸ')
  closeCreateDialog()
}

// ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹
async function generateTestCases(taskId: string) {
  try {
    setGenerating(true)
    
    // å¼€å§‹ç”Ÿæˆå¹¶ç›‘å¬è¿›åº¦
    const task = await testCaseStore.generateTestCases(taskId)
    
    // è½®è¯¢ç”Ÿæˆè¿›åº¦
    const progressInterval = setInterval(async () => {
      const updatedTask = await testCaseStore.getTask(taskId)
      
      if (updatedTask.status === 'completed') {
        clearInterval(progressInterval)
        setGenerating(false)
        showSuccessMessage(`æµ‹è¯•ç”¨ä¾‹ç”Ÿæˆå®Œæˆï¼Œå…±ç”Ÿæˆ ${updatedTask.testCases.length} ä¸ªç”¨ä¾‹`)
        
        // æ˜¾ç¤ºAIåˆ†æç»“æœ
        if (updatedTask.aiAnalysis) {
          showAIAnalysisDialog(updatedTask.aiAnalysis)
        }
      } else if (updatedTask.status === 'failed') {
        clearInterval(progressInterval)
        setGenerating(false)
        showErrorMessage(`ç”Ÿæˆå¤±è´¥: ${updatedTask.errorMessage}`)
      }
    }, 2000)
    
  } catch (error) {
    setGenerating(false)
    showErrorMessage('å¼€å§‹ç”Ÿæˆå¤±è´¥: ' + error.message)
  }
}

// æµ‹è¯•ç”¨ä¾‹ç¼–è¾‘
function editTestCase(testCase: TestCase) {
  currentEditingCase.value = { ...testCase }
  dialogs.editCase = true
}

async function saveTestCase() {
  const validation = validateTestCase(currentEditingCase.value)
  if (!validation.isValid) {
    showValidationErrors(validation.errors)
    return
  }
  
  await testCaseStore.updateTestCase(
    currentTask.value.id,
    currentEditingCase.value.id,
    currentEditingCase.value
  )
  
  showSuccessMessage('æµ‹è¯•ç”¨ä¾‹ä¿å­˜æˆåŠŸ')
  dialogs.editCase = false
}
```

### æµ‹è¯•ç”¨ä¾‹æ‰§è¡Œç®¡ç†
```typescript
// å•ä¸ªç”¨ä¾‹æ‰§è¡Œ
async function executeTestCase(testCase: TestCase) {
  const executionData = {
    caseId: testCase.id,
    actualResult: executionForm.actualResult,
    executionStatus: executionForm.status,
    defects: executionForm.defects,
    notes: executionForm.notes,
    screenshots: executionForm.screenshots,
    executedBy: userStore.currentUser.id,
    executedAt: new Date().toISOString()
  }
  
  await testCaseStore.executeTestCase(
    currentTask.value.id,
    testCase.id,
    executionData
  )
  
  showSuccessMessage('æµ‹è¯•ç”¨ä¾‹æ‰§è¡Œç»“æœå·²ä¿å­˜')
  
  // æ›´æ–°ä»»åŠ¡ç»Ÿè®¡
  updateTaskStatistics()
}

// æ‰¹é‡æ‰§è¡Œ
async function batchExecuteTestCases() {
  const executions = selectedTestCases.value.map(caseId => ({
    caseId,
    status: batchExecutionForm.defaultStatus,
    notes: batchExecutionForm.notes,
    executedBy: userStore.currentUser.id
  }))
  
  await testCaseStore.batchExecuteTestCases({
    taskId: currentTask.value.id,
    executions
  })
  
  showSuccessMessage(`æ‰¹é‡æ‰§è¡Œå®Œæˆï¼Œå…±å¤„ç† ${executions.length} ä¸ªç”¨ä¾‹`)
  clearSelection()
}

// ç”Ÿæˆæµ‹è¯•æŠ¥å‘Š
async function generateTestReport() {
  const reportData = {
    taskId: currentTask.value.id,
    includeDetails: reportForm.includeDetails,
    includeScreenshots: reportForm.includeScreenshots,
    includeStatistics: reportForm.includeStatistics,
    format: reportForm.format
  }
  
  const report = await testCaseStore.generateReport(reportData)
  
  if (reportForm.format === 'pdf') {
    downloadFile(report.url, `æµ‹è¯•æŠ¥å‘Š_${currentTask.value.name}.pdf`)
  } else {
    showReportPreview(report.content)
  }
}
```

### æ¨¡æ¿ç®¡ç†
```typescript
// æ¨¡æ¿åˆ›å»º
async function createCaseTemplate() {
  const templateData = {
    name: templateForm.name,
    description: templateForm.description,
    structure: {
      sections: templateForm.sections,
      defaultValues: templateForm.defaultValues
    },
    isDefault: templateForm.isDefault
  }
  
  await testCaseStore.createTemplate(templateData)
  showSuccessMessage('æ¨¡æ¿åˆ›å»ºæˆåŠŸ')
  dialogs.templateManager = false
}

// æ¨¡æ¿é¢„è§ˆ
function previewTemplate(template: CaseTemplate) {
  const previewCase = generatePreviewCase(template)
  showTemplatePreview(previewCase)
}

function generatePreviewCase(template: CaseTemplate): TestCase {
  return {
    id: 'preview',
    taskId: 'preview',
    title: template.structure.defaultValues.title || 'ç¤ºä¾‹æµ‹è¯•ç”¨ä¾‹',
    description: template.structure.defaultValues.description || 'è¿™æ˜¯ä¸€ä¸ªæ¨¡æ¿é¢„è§ˆ',
    type: 'functional',
    priority: 'P1',
    preconditions: template.structure.defaultValues.preconditions || [],
    steps: template.structure.defaultValues.steps || [],
    expectedResult: template.structure.defaultValues.expectedResult || '',
    testData: [],
    tags: [],
    estimatedTime: 5,
    executionStatus: 'not_executed',
    defects: [],
    notes: ''
  }
}
```

## å“åº”å¼è®¾è®¡é€‚é…

### æ¡Œé¢ç«¯å¸ƒå±€ (â‰¥1200px)
- åŒæ å¸ƒå±€ï¼šä»»åŠ¡åˆ—è¡¨ + ç”¨ä¾‹è¯¦æƒ…
- ä»»åŠ¡åˆ—è¡¨å®½åº¦ï¼š400px
- ç”¨ä¾‹è¯¦æƒ…åŒºåŸŸï¼šå‰©ä½™ç©ºé—´
- æ˜¾ç¤ºå®Œæ•´çš„æ“ä½œæŒ‰é’®å’Œç­›é€‰é€‰é¡¹

### å¹³æ¿ç«¯å¸ƒå±€ (768px-1199px)
- å¯åˆ‡æ¢çš„å•æ å¸ƒå±€
- æ·»åŠ æ ‡ç­¾é¡µåˆ‡æ¢ï¼šä»»åŠ¡åˆ—è¡¨ | ç”¨ä¾‹è¯¦æƒ…
- ç²¾ç®€æ“ä½œæŒ‰é’®ï¼Œä½¿ç”¨ä¸‹æ‹‰èœå•
- ç­›é€‰æ æ”¶ç¼©ä¸ºä¸‹æ‹‰é€‰æ‹©å™¨

### ç§»åŠ¨ç«¯å¸ƒå±€ (<768px)
- å…¨å±å•æ å¸ƒå±€
- å¡ç‰‡å¼ä»»åŠ¡å±•ç¤º
- åº•éƒ¨å¯¼èˆªæ 
- ä¸Šæ»‘æ˜¾ç¤ºç”¨ä¾‹è¯¦æƒ…
- ç®€åŒ–çš„åˆ›å»ºè¡¨å•

```typescript
// å“åº”å¼å¸ƒå±€ç®¡ç†
const layout = computed(() => {
  if (screenWidth.value >= 1200) return 'desktop'
  if (screenWidth.value >= 768) return 'tablet'
  return 'mobile'
})

const showSidebar = computed(() => {
  return layout.value === 'desktop' || (layout.value === 'tablet' && activeTab.value === 'tasks')
})

const showDetails = computed(() => {
  return layout.value === 'desktop' || (layout.value !== 'desktop' && activeTab.value === 'details')
})
```

## æ€§èƒ½ä¼˜åŒ–

### è™šæ‹Ÿæ»šåŠ¨
```typescript
// ä»»åŠ¡åˆ—è¡¨è™šæ‹Ÿæ»šåŠ¨
const virtualListProps = {
  height: 600,
  itemSize: 120,
  items: filteredTasks.value,
  renderItem: (item: TestCaseTask) => h(TaskCard, { task: item })
}
```

### æ•°æ®ç¼“å­˜
```typescript
// ä»»åŠ¡æ•°æ®ç¼“å­˜
const taskCache = new Map<string, TestCaseTask>()

async function getTask(id: string): Promise<TestCaseTask> {
  if (taskCache.has(id)) {
    return taskCache.get(id)!
  }
  
  const task = await api.getTask(id)
  taskCache.set(id, task)
  return task
}

// ç¼“å­˜å¤±æ•ˆç­–ç•¥
function invalidateTaskCache(taskId: string) {
  taskCache.delete(taskId)
  // è§¦å‘é‡æ–°åŠ è½½
  loadTasks()
}
```

### é˜²æŠ–æœç´¢
```typescript
const debouncedSearch = useDebounceFn((searchText: string) => {
  filters.search = searchText
  loadTasks()
}, 300)
```

## å®‰å…¨è€ƒè™‘

### æƒé™æ§åˆ¶
```typescript
// æ“ä½œæƒé™æ£€æŸ¥
const canCreateTask = computed(() => {
  return userStore.hasPermission('testcase:create')
})

const canEditTask = computed(() => {
  return userStore.hasPermission('testcase:edit') || 
         userStore.isOwner(currentTask.value?.createdBy)
})

const canDeleteTask = computed(() => {
  return userStore.hasPermission('testcase:delete') || 
         userStore.isOwner(currentTask.value?.createdBy)
})
```

### æ•°æ®éªŒè¯
```typescript
function validateTestCase(testCase: Partial<TestCase>): ValidationResult {
  const errors: string[] = []
  
  if (!testCase.title?.trim()) {
    errors.push('æµ‹è¯•ç”¨ä¾‹æ ‡é¢˜ä¸èƒ½ä¸ºç©º')
  }
  
  if (!testCase.steps?.length) {
    errors.push('æµ‹è¯•æ­¥éª¤ä¸èƒ½ä¸ºç©º')
  }
  
  if (!testCase.expectedResult?.trim()) {
    errors.push('é¢„æœŸç»“æœä¸èƒ½ä¸ºç©º')
  }
  
  if (testCase.steps) {
    testCase.steps.forEach((step, index) => {
      if (!step.action?.trim()) {
        errors.push(`ç¬¬${index + 1}æ­¥æ“ä½œæè¿°ä¸èƒ½ä¸ºç©º`)
      }
    })
  }
  
  return {
    isValid: errors.length === 0,
    errors
  }
}
```

## ç”¨æˆ·ä½“éªŒä¼˜åŒ–

### å¿«æ·é”®æ”¯æŒ
- Ctrl+N: åˆ›å»ºæ–°ä»»åŠ¡
- Ctrl+E: ç¼–è¾‘å½“å‰ç”¨ä¾‹
- Ctrl+R: æ‰§è¡Œå½“å‰ç”¨ä¾‹
- Ctrl+S: ä¿å­˜ç¼–è¾‘
- Ctrl+D: å¤åˆ¶ç”¨ä¾‹
- Delete: åˆ é™¤é€‰ä¸­é¡¹
- Ctrl+A: å…¨é€‰
- Ctrl+F: æœç´¢

### æ™ºèƒ½æç¤º
```typescript
// ç”¨ä¾‹ç”Ÿæˆå»ºè®®
function getGenerationSuggestions(requirement: string): string[] {
  const suggestions = []
  
  if (requirement.includes('ç™»å½•')) {
    suggestions.push('å»ºè®®ç”Ÿæˆæ­£å¸¸ç™»å½•ã€å¼‚å¸¸ç™»å½•ã€è¾¹ç•Œå€¼æµ‹è¯•ç”¨ä¾‹')
  }
  
  if (requirement.includes('API')) {
    suggestions.push('å»ºè®®åŒ…å«APIå‚æ•°éªŒè¯ã€å“åº”æ ¼å¼ã€é”™è¯¯å¤„ç†æµ‹è¯•')
  }
  
  if (requirement.includes('æ€§èƒ½')) {
    suggestions.push('å»ºè®®æ·»åŠ å¹¶å‘æµ‹è¯•ã€å‹åŠ›æµ‹è¯•ã€å“åº”æ—¶é—´æµ‹è¯•')
  }
  
  return suggestions
}

// ç”¨ä¾‹è´¨é‡æ£€æŸ¥
function checkTestCaseQuality(testCase: TestCase): QualityReport {
  const issues = []
  const suggestions = []
  
  if (testCase.steps.length < 3) {
    issues.push('æµ‹è¯•æ­¥éª¤è¿‡å°‘ï¼Œå»ºè®®ç»†åŒ–æµ‹è¯•æµç¨‹')
  }
  
  if (!testCase.preconditions.length) {
    issues.push('ç¼ºå°‘å‰ç½®æ¡ä»¶ï¼Œå¯èƒ½å½±å“æµ‹è¯•æ‰§è¡Œ')
  }
  
  if (!testCase.tags.length) {
    suggestions.push('å»ºè®®æ·»åŠ æ ‡ç­¾ä¾¿äºç”¨ä¾‹ç®¡ç†')
  }
  
  return {
    score: calculateQualityScore(testCase),
    issues,
    suggestions
  }
}
```

### è‡ªåŠ¨ä¿å­˜
```typescript
// ç¼–è¾‘è‡ªåŠ¨ä¿å­˜
const autoSave = useDebounceFn(async () => {
  if (currentEditingCase.value && hasUnsavedChanges.value) {
    await testCaseStore.updateTestCase(
      currentTask.value.id,
      currentEditingCase.value.id,
      currentEditingCase.value
    )
    
    hasUnsavedChanges.value = false
    showToast('è‡ªåŠ¨ä¿å­˜æˆåŠŸ', 'success')
  }
}, 5000)

watch(currentEditingCase, autoSave, { deep: true })
``` 